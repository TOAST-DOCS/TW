# Ubuntu Linux 인스턴스 사용하기

![image](https://github.com/user-attachments/assets/00c68317-a2fe-45c7-a313-7842dd73a011)

## 학습 목표

NHN Cloud를 통해 Ubuntu Linux 인스턴스를 빠르게 시작할 수 있습니다. 간단한 과정을 통해 인스턴스를 생성하고, 초기 설정을 완료하며, 필요한 리소스를 손쉽게 구성할 수 있어 누구나 쉽고 빠르게 Linux 기반 환경을 구축하고 운영할 수 있습니다. 이 과정에서 인스턴스 생성, VPC 및 Subnet 설정, 인터넷 게이트웨이, 키페어, SSH 연결, 사용자 스크립트, 보안 그룹 설정 등을 익힐 수 있어 클라우드 환경에 대한 이해와 활용 능력도 함께 향상됩니다. 이를 통해 웹 서버, 데이터베이스, 애플리케이션 서버 등 다양한 용도로 사용할 수 있는 안정적이고 확장 가능한 Linux 환경을 손쉽게 마련할 수 있습니다.

## 시작하기 전에

빠른 시작을 위해서 다음을 준비해야 합니다.

1. 표준 인터넷 브라우저 액세스 권한(Chrome 브라우저 권장)
2. NHN Cloud Console을 이용할 수 있는 계정(NHN Cloud 계정 또는 IAM 계정)

!!! tip "알아두기"
    * Console을 이용하기 위한 계정은 다음과 같습니다.
    * 결제수단 등록이 완료된 NHN Cloud 계정 단독 사용자
    * NHN Cloud를 사용하고 있는 조직의 Owner로부터 조직 맴버로 등록이 되었으며, 프로젝트 권한 및 리소스 사용 역할이 할당된 NHN Cloud 계정 또는 IAM 계정 사용자

3. 빠른시작 작업을 위한 NHN Cloud 콘솔에서의 새로운 조직과 프로젝트
4. SSH 접속을 위한 툴 또는 터미널 준비
    * Windows: **PuTTY**, **PowerShell** (OpenSSH 포함)
    * macOS 및 Linux: 내장 **터미널** 또는 기타 SSH 클라이언트

본 가이드는 새롭게 생성한 조직, 프로젝트를 활용하는 단계에서 작업을 시작합니다.

## 단계 1. 준비하기

* NHN Cloud Console에 접속합니다.
* 콘솔창 상단 탭에서 작업을 진행할 조직과 프로젝트를 선택합니다.
* 리전을 선택합니다. 본 가이드는 `평촌` 리전에서 진행합니다.

## 단계 2. 서비스 활성화

* 콘솔창 상단 탭에서 **[서비스 선택]** 을 클릭합니다.
* 서비스 메뉴 중 **Compute - Instance** 를 클릭 후 **서비스 활성화** 창에서 **[확인]** 버튼을 클릭합니다.

## 단계 3. 인스턴스 생성

* 콘솔창 왼쪽 메뉴 중 **Compute - Instance** 를 클릭합니다.
* **[인스턴스 생성]** 버튼을 클릭합니다.
* **인트턴스 생성** 창에서 아래 정보를 설정 후 **[인스턴스 생성]** 버튼을 클릭합니다.
    * 인스턴스 템플릿
        * 사용: `사용 안 함`
    * 이미지
        * 공용 이미지 > 이미지 이름: `Ubuntu Server 22.04 LTS` 클릭  (**공용 이미지 탭** 본문 이미지 목록에서 하단으로 스크롤하여 해당 이미지를 찾을 수 있습니다.)
            * <span style="color:#0052cc;">정보</span>: 쉬운 공용 이미지 검색 팁
                * <strong>공용 이미지 탭</strong> 하단에 "전체 이미지" 드롭상자를 클릭 후 `OS → Ubuntu` 를 선택하여 대상 이미지 확인 후 선택
                * <strong>공용 이미지 탭</strong> 하단에 "전체 이미지" 드롭상자 오른쪽에 있는 "이미지 이름 또는 설명을 입력해 주세요." 입력칸에 `Ubuntu Server 22.04` 를 입력하여 대상 이미지 확인 후 선택
    * 인스턴스 정보
        * 가용성 영역: `임의의 가용성 영역`
        * 인스턴스 이름: `linux-server-basic`
        * 인스턴스 타입 > **인스턴스 타입 선택** 버튼 클릭 > 인스턴스 타입 이름: `t2.c1m1` (분류: Standard, 타입: t2, 이름: t2.c1m1, vCPU: 1, 메모리: 1GB) 클릭 후 **[선택]** 버튼 클릭
        * 인스턴스 수: `1`
        * 키페어 > **[+ 생성]** 버튼 클릭 > 키페어 선택 하단에 `MyKey` 입력 후 **[키페어 생성]** 버튼 클릭 > **[키페어 다운로드]** 버튼 클릭 후 `MyKey.pem` 파일 다운로드
            * <span style="color:#e11d21;">주의</span>: 키페어 관리
                * 키페어 다운로드는 키페어 생성 시 한번만 다운로드 받을 수 있습니다. 파일을 안전한 곳에 다운로드하여 관리하세요.
                * 이미 생성한 `MyKey` 키페어가 "키페어 선택" 드롭상자 목록에 있으면 해당 키를 선택하시기 바랍니다. 단, MyKey.pem 파일을 사용자가 기억하는 경로(디렉터리 또는 폴더)에 다운로드 받아놓은 상태여야 합니다.
            * 키페어를 생성하면 자동으로 해당 키페어 값이 선택됩니다.
            * 키페어 생성에 자세한 내용은 키페어 사용자 가이드를 참고하세요.
    * 루트 블록 스토리지
        * 블록 스토리지 타입: `HDD`
        * 블록 스토리지 크기(GB): `20` GB
    * 네트워크 설정: `네트워크 인터페이스 생성` 선택
    * 네트워크
        * 사용 가능한 서브넷 항목에서 `Default Network (192.168.0.0/24)` 리소스를 클릭하여 선택된 서브넷으로 사용
    * 플로팅 IP: **설정 변경** 클릭
        * 사용: `사용`
        * 삭제 보호: `사용 안 함`
        * 연결할 서브넷: `Default Network (192.168.0.0/24)`
    * 보안 그룹
        * **[보안 그룹 생성]** 버튼 클릭
        * **보안 그룹 생성 창**에서 창에서 아래 정보를 설정 후 **[확인]** 버튼을 클릭합니다.
            * 이름: `MySG`
            * 보안 규칙 추가에  **[ + ]** 버튼을 클릭하여 다음 설정의 보안 규칙을 추가
                * 방향: `수신`
                * IP 프로토콜: `SSH`
                    * 해당 IP 프로토콜을 선택하면 자동으로 포트 정보가 입력됩니다.
                    * <span style="color:#0052cc;">정보</span>: 사용자 정의 TCP
                        * IP 프로토콜을 "사용자 정의 TCP"로 선택하면 포트값을 사용자가 직접 입력할 수 있습니다. "1"로 표기된 입력칸에 `22` 를 입력하시기 바랍니다.
                * Ether: `IPv4`
                * 원격: `CIDR - 0.0.0.0/0`
        * 성공 창에서 **[확인]** 버튼을 클릭
        * **보안 그룹 선택** 항목에서 위에 생성한 `MySG`를 선택
    * 추가 블록 스토리지: 사용 안 함 (기본)
    * 사용자 스크립트: 빈 칸 (기본)
    * 삭제 보호: 사용 안 함 (기본)
* 인스턴스 생성 정보 창에서 **[인스턴스 생성]** 버튼을 클릭합니다.
* 인스턴스 생성작업이 진행됩니다. 해당 인스턴스는 약 1분 내외로 생성이 완료됩니다.

## 단계 4. 인스턴스 접속 IP 확인하기

* 콘솔창 왼쪽 메뉴 중 **Network - Floating IP** 를 클릭합니다.
* 플로팅 IP 리소스 목록 중 연결된 장치가 `linux-server-basic` 인 IP 주소를 <strong>복사</strong> 후 <strong>기록</strong>합니다.

## 단계 5(a). SSH 원격 접속 (Windows 사용환경 PowerShell 사용자)

* Windows [시작] 버튼을 클릭 후 `Windows PowerShell` 을 검색하여 실행합니다.
    * 정보: Windows PowerShell 실행 팁
        * 윈도우 키(⊞) + R 을 눌러 실행창을 실행합니다.
        * 열기(O) 입력 칸에  `powershell.exe` 를 입력 후 엔터키를 누르면 Windows PowerShell이 실행됩니다.
* 다운로드 받은 키페어인 `MyKey.pem` 폴더로 이동합니다.

    ```powershell
    cd \(MyKey.pem 파일이 있는 폴더명)
    ```
* 아래 명령어를 입력하여 `MyKey.pem` 의 권한을 설정합니다.

    ```powershell
    icacls MyKey.pem /reset 
    icacls MyKey.pem /grant:r "$($env:username):(r)"
    icacls MyKey.pem /inheritance:r
    ```
* `ssh -i MyKey.pem ubuntu@복사한 IP 주소` 를 입력 후 실행합니다.
    * 정보: 복사한 IP 주소
        * **작업 4** 에서 확인한 Floating IP 주소 입니다.
* "Are you sure you want to continue connecting (yes/no/[fingerprint])?" 문구가 나오면 `yes` 를 입력 후 엔터키를 입력합니다.
* `lsb_release -a` 를 입력하여 접속한 Linux 버전을 확인합니다.
* 인스턴스에서 필요한 작업을 진행합니다.

## 단계 5(b). SSH 원격 접속 (macOS 사용환경 터미널 사용자)

* Dock에서 **터미널(Terminal)** 앱을 실행하거나, Spotlight에서 **터미널**을 검색하여 실행합니다.
    * 정보: 터미널 실행 팁
        * `Command(⌘) + Space` 를 눌러 Spotlight를 실행합니다.
        * 입력 칸에  `"터미널"` 입력 후 <span style="color:rgb(51, 51, 51);">Return키</span>를 누르면 터미널이 실행됩니다.
* 다운로드 받은 키페어인 `MyKey.pem` 디렉터리로 이동합니다.

    ```powershell
    cd /(MyKey.pem 파일이 있는 디렉터리명)
    ```
* 아래 명령어를 입력하여 `MyKey.pem` 의 권한을 설정합니다.

    ```powershell
    chmod 600 MyKey.pem
    ```
* `ssh -i MyKey.pem ubuntu@복사한 IP 주소` 를 입력 후 실행합니다.
    * 정보: 복사한 IP 주소
        * **단계 4** 에서 확인한 Floating IP 주소 입니다.
* "Are you sure you want to continue connecting (yes/no/[fingerprint])?" 문구가 나오면 `yes` 를 입력 후 엔터키를 입력합니다.
* `lsb_release -a` 를 입력하여 접속한 Linux 버전을 확인합니다.
* 인스턴스에서 필요한 작업을 진행합니다.
